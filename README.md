# VMP processing toolbox

## Requirements

* `odas` - a proprietary matlab package written by Rockland Scientific Instruments
* `gsw` - the latest Gibbs Sea Water thermodynamic toolbox

## Usage

Processing follows three steps:
1. Convert Rockland's raw `.p` file format into a series of `.mat` profiles using `generate_diss_profiles.m`.
2. Depth bin average the generated profiles using `generate_binned_profiles.m`.
3. Combine the binned profiles into one dataset using `join_binned.m`.

Optionally, convert the joined dataset into a netCDF file using `convert_to_netcdf.m`.

The parameters of the dissipation calculation, such as fft_length, diss_length, etc.
are set via the `info` struct. The default `info` struc is generated by the function
`get_info.m`. It is recommended to modify the default values in the processing, e.g.

```matlab
pFile = "example.p"
saveDir = "proc"
info = get_info();
info.overwrite = false;
info.pMin = 1;
info.diss_length = 1024;
generate_diss_profiles(pFile, saveDir, info=info);
```
